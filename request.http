### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### ğŸ¯ SERVICE BOOKING PLATFORM - API TESTING
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### PHASE 1: AUTHENTICATION & AUTHORIZATION
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### ========== User Registration ==========

### 1ï¸âƒ£ Register New Customer
POST http://localhost:8081/api/auth/register
Content-Type: application/json

{
  "firstName": "Hamza",
  "lastName": "Shaer",
  "email": "hamza@example.com",
  "password": "Hamza@12345",
  "phone": "+970599123456",
  "role": "CUSTOMER"
}

###

### 2ï¸âƒ£ Register New Service Provider
POST http://localhost:8081/api/auth/register
Content-Type: application/json

{
  "firstName": "Ali",
  "lastName": "Ahmad",
  "email": "ali.ahmad@example.com",
  "password": "Ahmad@12345",
  "phone": "+970599654321",
  "role": "SERVICE_PROVIDER",
  "bio": "Experienced Java Developer with 5+ years in Spring Boot and Microservices",
  "professionalTitle": "Senior Java Developer",
  "certificateUrl": "https://example.com/certificates/ali-java.pdf"
}

###

### ========== User Login ==========

### 3ï¸âƒ£ Login as Customer
POST http://localhost:8081/api/auth/login
Content-Type: application/json

{
  "email": "hamza@example.com",
  "password": "Hamza@12345"
}

###

### 4ï¸âƒ£ Login as Service Provider
POST http://localhost:8081/api/auth/login
Content-Type: application/json

{
  "email": "ali.ahmad@example.com",
  "password": "Ahmad@12345"
}

###

### 5ï¸âƒ£ Login as Admin
POST http://localhost:8081/api/auth/login
Content-Type: application/json

{
  "email": "admin@trainingproject.com",
  "password": "Admin@12345"
}

###

### ========== Authentication Error Testing ==========

### 6ï¸âƒ£ Register with Existing Email (Should fail - 409 Conflict)
POST http://localhost:8081/api/auth/register
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "hamza@example.com",
  "password": "Test@12345",
  "phone": "+970599999999",
  "role": "CUSTOMER"
}

###

### 7ï¸âƒ£ Register with Invalid Email (Should fail - 400 Bad Request)
POST http://localhost:8081/api/auth/register
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "invalid-email",
  "password": "Test@12345",
  "phone": "+970599999999",
  "role": "CUSTOMER"
}

###

### 8ï¸âƒ£ Register with Weak Password (Should fail - 400 Bad Request)
POST http://localhost:8081/api/auth/register
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "email": "test@example.com",
  "password": "123",
  "phone": "+970599999999",
  "role": "CUSTOMER"
}

###

### 9ï¸âƒ£ Login with Wrong Password (Should fail - 401 Unauthorized)
POST http://localhost:8081/api/auth/login
Content-Type: application/json

{
  "email": "hamza@example.com",
  "password": "WrongPassword123"
}

###

### ğŸ”Ÿ Login with Non-Existent Email (Should fail - 401 Unauthorized)
POST http://localhost:8081/api/auth/login
Content-Type: application/json

{
  "email": "nonexistent@example.com",
  "password": "SomePassword123"
}

###

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### PHASE 2: ADMIN FEATURES
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### ========== Provider Management ==========

### 1ï¸âƒ£1ï¸âƒ£ Get Pending Service Providers
GET http://localhost:8081/api/admin/providers/pending
Authorization: Bearer {ADMIN_TOKEN}

###

### 1ï¸âƒ£2ï¸âƒ£ Approve Service Provider
PUT http://localhost:8081/api/admin/providers/2/approve
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "adminNotes": "Certificate verified and approved. Welcome to the platform!"
}

###

### 1ï¸âƒ£3ï¸âƒ£ Reject Service Provider
PUT http://localhost:8081/api/admin/providers/3/reject
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "adminNotes": "Certificate not valid or incomplete information provided"
}

###

### ========== Subscription Plan Management ==========

### 1ï¸âƒ£4ï¸âƒ£ Get All Subscription Plans (Admin View - shows all including inactive)
GET http://localhost:8081/api/admin/subscription-plans
Authorization: Bearer {ADMIN_TOKEN}

###

### 1ï¸âƒ£5ï¸âƒ£ Create Monthly Subscription Plan
POST http://localhost:8081/api/admin/subscription-plans
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "name": "Monthly Pro Plan",
  "description": "Professional monthly subscription for service providers with premium features",
  "price": 100.00,
  "durationDays": 30
}

###

### 1ï¸âƒ£6ï¸âƒ£ Create Quarterly Subscription Plan
POST http://localhost:8081/api/admin/subscription-plans
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "name": "Quarterly Plan",
  "description": "Save 20% with quarterly subscription - 90 days access to all features",
  "price": 240.00,
  "durationDays": 90
}

###

### 1ï¸âƒ£7ï¸âƒ£ Create Annual Subscription Plan
POST http://localhost:8081/api/admin/subscription-plans
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "name": "Annual Plan",
  "description": "Best value! Save 40% with annual subscription - 365 days",
  "price": 720.00,
  "durationDays": 365
}

###

### 1ï¸âƒ£8ï¸âƒ£ Update Subscription Plan
PUT http://localhost:8081/api/admin/subscription-plans/1
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "name": "Monthly Premium Plan",
  "price": 120.00,
  "description": "Updated premium plan with more features and support"
}

###

### 1ï¸âƒ£9ï¸âƒ£ Deactivate Subscription Plan (Don't delete, just deactivate)
PUT http://localhost:8081/api/admin/subscription-plans/1
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "isActive": false
}

###

### 2ï¸âƒ£0ï¸âƒ£ Delete Subscription Plan (Only if no active subscriptions)
DELETE http://localhost:8081/api/admin/subscription-plans/2
Authorization: Bearer {ADMIN_TOKEN}

###

### ========== Platform Statistics ==========

### 2ï¸âƒ£1ï¸âƒ£ Get Platform Statistics
GET http://localhost:8081/api/admin/stats
Authorization: Bearer {ADMIN_TOKEN}

###

### ========== Admin Error Testing ==========

### 2ï¸âƒ£2ï¸âƒ£ Access Admin Endpoint without Token (Should fail - 401)
GET http://localhost:8081/api/admin/providers/pending

###

### 2ï¸âƒ£3ï¸âƒ£ Access Admin Endpoint as Customer (Should fail - 403 Forbidden)
GET http://localhost:8081/api/admin/providers/pending
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 2ï¸âƒ£4ï¸âƒ£ Approve Non-Existent Provider (Should fail - 404 Not Found)
PUT http://localhost:8081/api/admin/providers/99999/approve
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "adminNotes": "Test"
}

###

### 2ï¸âƒ£5ï¸âƒ£ Create Duplicate Subscription Plan (Should fail - 409 Conflict)
POST http://localhost:8081/api/admin/subscription-plans
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "name": "Monthly Pro Plan",
  "description": "Duplicate plan",
  "price": 100.00,
  "durationDays": 30
}

###

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### PHASE 3: SERVICE PROVIDER FEATURES
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### ========== Subscription Management ==========

### 2ï¸âƒ£6ï¸âƒ£ Get All Available Subscription Plans (Public - only active plans)
GET http://localhost:8081/api/subscriptions/plans

###

### 2ï¸âƒ£7ï¸âƒ£ Subscribe to Plan (Requires SERVICE_PROVIDER role + ACTIVE status)
# Note: Provider must be approved by admin first (use request #12)
POST http://localhost:8081/api/subscriptions/subscribe
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "planId": 1,
  "paymentMethod": "Credit Card",
  "autoRenew": true,
  "paymentCard": {
    "cardNumber": "5425233430109903",
    "cardHolderName": "ALI AHMAD",
    "expiryMonth": 6,
    "expiryYear": 2027,
    "cvv": "456",
    "billingAddress": "456 Commerce Ave, Nablus, Palestine"
  }
}

###

### 2ï¸âƒ£8ï¸âƒ£ Get Current Subscription
GET http://localhost:8081/api/subscriptions/my-subscription
Authorization: Bearer {PROVIDER_TOKEN}

###

### 2ï¸âƒ£9ï¸âƒ£ Cancel Auto-Renewal
PUT http://localhost:8081/api/subscriptions/cancel-renewal
Authorization: Bearer {PROVIDER_TOKEN}

###

### ========== Service Management ==========

### 3ï¸âƒ£0ï¸âƒ£ Create New Service (Requires active subscription)
POST http://localhost:8081/api/provider/services
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "categoryId": 1,
  "title": "Java Programming Masterclass",
  "description": "Complete Java course from beginner to advanced level covering OOP, Collections, Spring Boot, and Microservices architecture",
  "price": 50.00,
  "durationMinutes": 60,
  "serviceType": "BOTH",
  "locationAddress": "123 Tech Street, Ramallah, Palestine"
}

###

### 3ï¸âƒ£1ï¸âƒ£ Create Another Service (Online Only)
POST http://localhost:8081/api/provider/services
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "categoryId": 1,
  "title": "Spring Boot Microservices",
  "description": "Advanced Spring Boot microservices course with Docker, Kubernetes, and Cloud deployment",
  "price": 75.00,
  "durationMinutes": 90,
  "serviceType": "ONLINE"
}

###

### 3ï¸âƒ£2ï¸âƒ£ Get Provider's Services
GET http://localhost:8081/api/provider/services
Authorization: Bearer {PROVIDER_TOKEN}

###

### 3ï¸âƒ£3ï¸âƒ£ Update Service
PUT http://localhost:8081/api/provider/services/1
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "title": "Advanced Java Programming Masterclass",
  "price": 65.00,
  "description": "Updated course with more advanced topics and hands-on projects"
}

###

### 3ï¸âƒ£4ï¸âƒ£ Deactivate Service
PUT http://localhost:8081/api/provider/services/1
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "isActive": false
}

###

### 3ï¸âƒ£5ï¸âƒ£ Delete Service
DELETE http://localhost:8081/api/provider/services/2
Authorization: Bearer {PROVIDER_TOKEN}

###

### ========== Availability Management ==========

### 3ï¸âƒ£6ï¸âƒ£ Set Provider Availability - Monday
POST http://localhost:8081/api/provider/availability
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "dayOfWeek": "MONDAY",
  "startTime": "09:00:00",
  "endTime": "17:00:00"
}

###

### 3ï¸âƒ£7ï¸âƒ£ Set Provider Availability - Tuesday
POST http://localhost:8081/api/provider/availability
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "dayOfWeek": "TUESDAY",
  "startTime": "10:00:00",
  "endTime": "18:00:00"
}

###

### 3ï¸âƒ£8ï¸âƒ£ Set Provider Availability - Wednesday
POST http://localhost:8081/api/provider/availability
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "dayOfWeek": "WEDNESDAY",
  "startTime": "09:00:00",
  "endTime": "17:00:00"
}

###

### 3ï¸âƒ£9ï¸âƒ£ Get Provider's Availability
GET http://localhost:8081/api/provider/availability
Authorization: Bearer {PROVIDER_TOKEN}

###

### 4ï¸âƒ£0ï¸âƒ£ Delete Availability
DELETE http://localhost:8081/api/provider/availability/1
Authorization: Bearer {PROVIDER_TOKEN}

###

### ========== Provider Error Testing ==========

### 4ï¸âƒ£1ï¸âƒ£ Try to Subscribe without Admin Approval (Should fail - 403 Forbidden)
# Note: Use token from newly registered provider who hasn't been approved yet
POST http://localhost:8081/api/subscriptions/subscribe
Authorization: Bearer {UNAPPROVED_PROVIDER_TOKEN}
Content-Type: application/json

{
  "planId": 1,
  "paymentMethod": "STRIPE"
}

###

### 4ï¸âƒ£2ï¸âƒ£ Try to Create Service without Subscription (Should fail - 403 Forbidden)
# Note: Use token from approved provider who hasn't subscribed yet
POST http://localhost:8081/api/provider/services
Authorization: Bearer {PROVIDER_TOKEN_WITHOUT_SUBSCRIPTION}
Content-Type: application/json

{
  "categoryId": 1,
  "title": "Test Service",
  "description": "This should fail",
  "price": 25.00,
  "durationMinutes": 30,
  "serviceType": "ONLINE"
}

###

### 4ï¸âƒ£3ï¸âƒ£ Set Overlapping Availability (Should fail - 400 Bad Request)
# Note: First create Monday 09:00-17:00, then try to create overlapping time
POST http://localhost:8081/api/provider/availability
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "dayOfWeek": "MONDAY",
  "startTime": "08:00:00",
  "endTime": "10:00:00"
}

###

### 4ï¸âƒ£4ï¸âƒ£ Create Service with IN_PERSON type without Location (Should fail - 400 Bad Request)
POST http://localhost:8081/api/provider/services
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "categoryId": 1,
  "title": "In-Person Consultation",
  "description": "Face-to-face consultation",
  "price": 100.00,
  "durationMinutes": 60,
  "serviceType": "IN_PERSON"
}

###

### 4ï¸âƒ£5ï¸âƒ£ Customer Tries to Access Provider Endpoints (Should fail - 403)
GET http://localhost:8081/api/provider/services
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 4ï¸âƒ£6ï¸âƒ£ Subscribe to Non-Existent Plan (Should fail - 404 Not Found)
POST http://localhost:8081/api/subscriptions/subscribe
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "planId": 999
}

###

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### PHASE 4: CUSTOMER FEATURES
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### ========== Booking Management ==========

### 5ï¸âƒ£1ï¸âƒ£ Get Available Time Slots for a Service
# Replace {SERVICE_ID} with actual service ID from provider
GET http://localhost:8081/api/services/{SERVICE_ID}/slots
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 5ï¸âƒ£2ï¸âƒ£ Create Booking (BOOKING_PAYMENT Transaction)
POST http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "serviceId": 1,
  "slotId": 1,
  "paymentMethod": "Credit Card",
  "paymentCard": {
    "cardNumber": "4532015112830366",
    "cardHolderName": "HAMZA SHAER",
    "expiryMonth": 12,
    "expiryYear": 2028,
    "cvv": "123",
    "billingAddress": "123 Main Street, Ramallah, Palestine"
  }
}

###

### 5ï¸âƒ£3ï¸âƒ£ Get All My Bookings
GET http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 5ï¸âƒ£4ï¸âƒ£ Get Booking by ID
GET http://localhost:8081/api/customer/bookings/{BOOKING_ID}
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 5ï¸âƒ£5ï¸âƒ£ Cancel Booking (Auto-Refund if < 24hrs, Pending Refund if > 24hrs)
PUT http://localhost:8081/api/customer/bookings/{BOOKING_ID}/cancel
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "cancellationReason": "Schedule conflict, need to reschedule"
}

###

### ========== Review Management ==========

### 5ï¸âƒ£6ï¸âƒ£ Submit Review (Only for COMPLETED bookings)
POST http://localhost:8081/api/customer/reviews
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "bookingId": 1,
  "rating": 5,
  "comment": "Excellent service! Very professional and knowledgeable."
}

###

### 5ï¸âƒ£7ï¸âƒ£ Try to Review PENDING Booking (Should fail - 400 Bad Request)
POST http://localhost:8081/api/customer/reviews
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "bookingId": 2,
  "rating": 4,
  "comment": "Great session!"
}

###

### 5ï¸âƒ£8ï¸âƒ£ Try to Review Same Booking Twice (Should fail - 400 Bad Request)
POST http://localhost:8081/api/customer/reviews
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "bookingId": 1,
  "rating": 5,
  "comment": "Trying to review again"
}

###

### ========== Transaction History ==========

### 5ï¸âƒ£9ï¸âƒ£ Get My Transactions (BOOKING_PAYMENT, REFUND)
GET http://localhost:8081/api/customer/transactions
Authorization: Bearer {CUSTOMER_TOKEN}

###

### ========== Provider: Booking & Review Management ==========

### 6ï¸âƒ£1ï¸âƒ£ Provider: View All Bookings
GET http://localhost:8081/api/provider/bookings
Authorization: Bearer {PROVIDER_TOKEN}

###

### 6ï¸âƒ£2ï¸âƒ£ Provider: Complete Booking (Creates PAYOUT Transaction)
PUT http://localhost:8081/api/provider/bookings/{BOOKING_ID}/complete
Authorization: Bearer {PROVIDER_TOKEN}

###

### 6ï¸âƒ£3ï¸âƒ£ Provider: Try to Complete Already Completed Booking (Should fail - 400)
PUT http://localhost:8081/api/provider/bookings/{BOOKING_ID}/complete
Authorization: Bearer {PROVIDER_TOKEN}

###

### 6ï¸âƒ£4ï¸âƒ£ Provider: View All Reviews
GET http://localhost:8081/api/provider/reviews
Authorization: Bearer {PROVIDER_TOKEN}

###

### 6ï¸âƒ£5ï¸âƒ£ Provider: Get Transaction History (SUBSCRIPTION_PAYMENT, PAYOUT)
GET http://localhost:8081/api/customer/transactions
Authorization: Bearer {PROVIDER_TOKEN}

###

### ========== Admin: Refund Management ==========

### 7ï¸âƒ£1ï¸âƒ£ Admin: View All Pending Refunds
GET http://localhost:8081/api/admin/refunds/pending
Authorization: Bearer {ADMIN_TOKEN}

###

### 7ï¸âƒ£2ï¸âƒ£ Admin: Approve Refund (Creates REFUND Transaction)
PUT http://localhost:8081/api/admin/refunds/{REFUND_ID}/approve
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "adminNotes": "Valid cancellation reason. Approved 50% refund."
}

###

### 7ï¸âƒ£3ï¸âƒ£ Admin: Reject Refund
PUT http://localhost:8081/api/admin/refunds/{REFUND_ID}/reject
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "adminNotes": "Cancellation too late. Policy violated."
}

###

### ========== Admin: Transaction Management ==========

### 7ï¸âƒ£4ï¸âƒ£ Admin: View All Transactions (All Types)
GET http://localhost:8081/api/admin/transactions
Authorization: Bearer {ADMIN_TOKEN}

###

### 7ï¸âƒ£5ï¸âƒ£ Admin: View Platform Stats (Updated with Booking & Transaction Data)
GET http://localhost:8081/api/admin/stats
Authorization: Bearer {ADMIN_TOKEN}

###

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### ğŸ§ª ERROR & VALIDATION TESTS - PHASE 4
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### 8ï¸âƒ£1ï¸âƒ£ Book Already Booked Time Slot (Should fail - 400 Bad Request)
POST http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "serviceId": 1,
  "slotId": 1,
  "paymentMethod": "MasterCard ****5678"
}

###

### 8ï¸âƒ£2ï¸âƒ£ Book Time Slot in the Past (Should fail - 400 Bad Request)
POST http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "serviceId": 1,
  "slotId": 99,
  "paymentMethod": "Visa ****1234"
}

###

### 8ï¸âƒ£3ï¸âƒ£ Cancel Already Cancelled Booking (Should fail - 400 Bad Request)
PUT http://localhost:8081/api/customer/bookings/{CANCELLED_BOOKING_ID}/cancel
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "cancellationReason": "Changed my mind again"
}

###

### 8ï¸âƒ£4ï¸âƒ£ Provider Tries to Complete Cancelled Booking (Should fail - 400)
PUT http://localhost:8081/api/provider/bookings/{CANCELLED_BOOKING_ID}/complete
Authorization: Bearer {PROVIDER_TOKEN}

###

### 8ï¸âƒ£5ï¸âƒ£ Submit Review with Invalid Rating (Should fail - 400)
POST http://localhost:8081/api/customer/reviews
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "bookingId": 1,
  "rating": 6,
  "comment": "Invalid rating test"
}

###

### 8ï¸âƒ£6ï¸âƒ£ Customer Tries to Access Other Customer's Booking (Should fail - 404)
GET http://localhost:8081/api/customer/bookings/{OTHER_CUSTOMER_BOOKING_ID}
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 8ï¸âƒ£7ï¸âƒ£ Admin Approves Already Approved Refund (Should fail - 400)
PUT http://localhost:8081/api/admin/refunds/{APPROVED_REFUND_ID}/approve
Authorization: Bearer {ADMIN_TOKEN}
Content-Type: application/json

{
  "adminNotes": "Trying to approve again"
}

###

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### NOTIFICATIONS TESTING
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### 8ï¸âƒ£8ï¸âƒ£ Get All Notifications (Customer)
GET http://localhost:8081/api/notifications
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 8ï¸âƒ£9ï¸âƒ£ Get All Notifications (Provider)
GET http://localhost:8081/api/notifications
Authorization: Bearer {PROVIDER_TOKEN}

###

### 9ï¸âƒ£0ï¸âƒ£ Get Unread Notifications Only
GET http://localhost:8081/api/notifications/unread
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 9ï¸âƒ£1ï¸âƒ£ Get Unread Notifications Count
GET http://localhost:8081/api/notifications/unread/count
Authorization: Bearer {PROVIDER_TOKEN}

###

### 9ï¸âƒ£2ï¸âƒ£ Mark Notification as Read
PUT http://localhost:8081/api/notifications/{NOTIFICATION_ID}/read
Authorization: Bearer {CUSTOMER_TOKEN}

###

### 9ï¸âƒ£3ï¸âƒ£ Mark All Notifications as Read
PUT http://localhost:8081/api/notifications/read-all
Authorization: Bearer {PROVIDER_TOKEN}

###

### 9ï¸âƒ£4ï¸âƒ£ Delete Notification
DELETE http://localhost:8081/api/notifications/{NOTIFICATION_ID}
Authorization: Bearer {CUSTOMER_TOKEN}

###

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### PAYMENT VALIDATION TESTING
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

### 9ï¸âƒ£5ï¸âƒ£ Test Invalid Card Number (Fails Luhn Check - Should fail - 400)
POST http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "serviceId": 1,
  "slotId": 2,
  "paymentMethod": "Credit Card",
  "paymentCard": {
    "cardNumber": "1234567890123456",
    "cardHolderName": "TEST USER",
    "expiryMonth": 12,
    "expiryYear": 2028,
    "cvv": "123",
    "billingAddress": "123 Test Street, Test City"
  }
}

###

### 9ï¸âƒ£6ï¸âƒ£ Test Blocked Card (All Zeros - Should fail - 400)
POST http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "serviceId": 1,
  "slotId": 3,
  "paymentMethod": "Credit Card",
  "paymentCard": {
    "cardNumber": "0000000000000000",
    "cardHolderName": "BLOCKED USER",
    "expiryMonth": 12,
    "expiryYear": 2028,
    "cvv": "000",
    "billingAddress": "Blocked Address"
  }
}

###

### 9ï¸âƒ£7ï¸âƒ£ Test Expired Card (Should fail - 400)
POST http://localhost:8081/api/subscriptions/subscribe
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "planId": 1,
  "paymentMethod": "Credit Card",
  "autoRenew": true,
  "paymentCard": {
    "cardNumber": "4532015112830366",
    "cardHolderName": "EXPIRED CARD",
    "expiryMonth": 12,
    "expiryYear": 2020,
    "cvv": "123",
    "billingAddress": "Test Address"
  }
}

###

### 9ï¸âƒ£8ï¸âƒ£ Test Invalid CVV (Should fail - 400)
POST http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "serviceId": 1,
  "slotId": 4,
  "paymentMethod": "Credit Card",
  "paymentCard": {
    "cardNumber": "4532015112830366",
    "cardHolderName": "TEST USER",
    "expiryMonth": 12,
    "expiryYear": 2028,
    "cvv": "12",
    "billingAddress": "Test Address"
  }
}

###

### 9ï¸âƒ£9ï¸âƒ£ Test Missing Payment Card (Should fail - 400)
POST http://localhost:8081/api/customer/bookings
Authorization: Bearer {CUSTOMER_TOKEN}
Content-Type: application/json

{
  "serviceId": 1,
  "slotId": 5,
  "paymentMethod": "Credit Card"
}

###

### 1ï¸âƒ£0ï¸âƒ£0ï¸âƒ£ Test Valid Alternative Card (MasterCard - Should succeed)
POST http://localhost:8081/api/subscriptions/subscribe
Authorization: Bearer {PROVIDER_TOKEN}
Content-Type: application/json

{
  "planId": 1,
  "paymentMethod": "Debit Card",
  "autoRenew": false,
  "paymentCard": {
    "cardNumber": "5425233430109903",
    "cardHolderName": "JOHN DOE",
    "expiryMonth": 3,
    "expiryYear": 2029,
    "cvv": "789",
    "billingAddress": "789 Finance Road, Bethlehem, Palestine"
  }
}

###

### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
### ğŸ‰ END OF API TESTING - ALL PHASES COMPLETE WITH PAYMENT VALIDATION
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
###
### ğŸ“ Note: See TEST-PAYMENT-CARDS.md for valid test card numbers
### ğŸ”’ All payment data is validated using Luhn Algorithm
### âœ… Card numbers are masked in database (****xxxx format)
### ğŸ’³ Transaction IDs are generated for tracking
### â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
